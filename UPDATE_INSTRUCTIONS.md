# üöÄ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—é –ø—Ä–æ–µ–∫—Ç–∞ Riderra

## –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –æ–¥–Ω—É –∫–æ–º–∞–Ω–¥—É:

```bash
cd /opt/riderra && bash update.sh
```

–°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:
- ‚úÖ –û–±–Ω–æ–≤–∏—Ç –∫–æ–¥ –∏–∑ Git
- ‚úÖ –£—Å—Ç–∞–Ω–æ–≤–∏—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
- ‚úÖ –ü—Ä–∏–º–µ–Ω–∏—Ç –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î
- ‚úÖ –û—á–∏—Å—Ç–∏—Ç –∫–µ—à
- ‚úÖ –ü–µ—Ä–µ—Å–æ–±–µ—Ä–∏—Ç –ø—Ä–æ–µ–∫—Ç
- ‚úÖ –û—á–∏—Å—Ç–∏—Ç –∫–µ—à Nginx
- ‚úÖ –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç PM2
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∏—Ç —Å—Ç–∞—Ç—É—Å

## –†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (–µ—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω)

```bash
cd /opt/riderra
git stash 2>/dev/null || true
git pull origin master
npm install
npx prisma migrate deploy 2>/dev/null || true
npx prisma generate
rm -rf .nuxt dist node_modules/.cache
npm run generate
pm2 restart riderra --update-env
pm2 logs riderra --lines 10
```

## –ü–∞—Ä–∞–º–µ—Ç—Ä—ã —Å–∫—Ä–∏–ø—Ç–∞ update.sh

```bash
# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–∑ Git
bash update.sh --skip-git

# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–µ—Å–±–æ—Ä–∫—É (—Ç–æ–ª—å–∫–æ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ PM2)
bash update.sh --skip-build

# –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ PM2
bash update.sh --skip-pm2

# –ö–æ–º–±–∏–Ω–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
bash update.sh --skip-git --skip-build
```

## –ï—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –≤–∏–¥–Ω—ã –Ω–∞ —Å–∞–π—Ç–µ

1. **–û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞:**
   - Mac: `Cmd + Shift + R`
   - Windows/Linux: `Ctrl + Shift + R`
   - –ò–ª–∏ –æ—Ç–∫—Ä–æ–π—Ç–µ –≤ —Ä–µ–∂–∏–º–µ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ

2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
   ```bash
   pm2 status riderra
   pm2 logs riderra --lines 20
   ```

3. **–û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à Nginx:**
   ```bash
   rm -rf /var/cache/nginx/*
   systemctl reload nginx
   ```

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ –Ω–∞ —Å–µ—Ä–≤–µ—Ä

–ï—Å–ª–∏ —Å–∫—Ä–∏–ø—Ç–∞ –Ω–µ—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, —Å–∫–æ–ø–∏—Ä—É–π—Ç–µ –µ–≥–æ:

```bash
# –° –ª–æ–∫–∞–ª—å–Ω–æ–≥–æ –∫–æ–º–ø—å—é—Ç–µ—Ä–∞
scp update.sh root@91.229.9.217:/opt/riderra/
ssh root@91.229.9.217 "chmod +x /opt/riderra/update.sh"
```

## –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Å–µ—Ä–≤–µ—Ä–µ

- **IP**: 91.229.9.217
- **–î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è**: /opt/riderra
- **PM2 –ø—Ä–æ—Ü–µ—Å—Å**: riderra
- **–ü–æ—Ä—Ç**: 3000 (—á–µ—Ä–µ–∑ Nginx –Ω–∞ 443)

