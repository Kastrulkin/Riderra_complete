# üîÑ –ê–ª–≥–æ—Ä–∏—Ç–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞ Riderra

## üìã –ß–µ—Ç–∫–∏–π –ø–æ—Ä—è–¥–æ–∫ –¥–µ–π—Å—Ç–≤–∏–π –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### 1Ô∏è‚É£ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–¥–∞ —Å GitHub

#### –®–∞–≥ 1: –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh root@81.228.9.217
```

#### –®–∞–≥ 2: –ü–µ—Ä–µ–π—Ç–∏ –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é –ø—Ä–æ–µ–∫—Ç–∞
```bash
cd /opt/riderra
```

#### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–í–ê–ñ–ù–û!)
```bash
git status
# –ï—Å–ª–∏ –µ—Å—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ package-lock.json –∏–ª–∏ –¥—Ä—É–≥–∏—Ö —Ñ–∞–π–ª–∞—Ö, –∏—Ö –Ω—É–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–∞—Ç–∏—Ç—å
```

#### –®–∞–≥ 4: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–ª–∏ –æ—Ç–∫–∞—Ç–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
```bash
# –í–∞—Ä–∏–∞–Ω—Ç 1: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
git stash

# –í–∞—Ä–∏–∞–Ω—Ç 2: –û—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ package-lock.json (–µ—Å–ª–∏ –Ω–µ –Ω—É–∂–Ω—ã)
git restore package-lock.json

# –í–∞—Ä–∏–∞–Ω—Ç 3: –û—Ç–∫–∞—Ç–∏—Ç—å –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–û–°–¢–û–†–û–ñ–ù–û!)
# git restore .
```

#### –®–∞–≥ 5: –ü–æ–ª—É—á–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å GitHub
```bash
git pull origin master
# –ò–ª–∏ –µ—Å–ª–∏ –≤–µ—Ç–∫–∞ –¥—Ä—É–≥–∞—è:
# git pull origin main
```

#### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ª—É—á–µ–Ω—ã
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–∏—Ç—ã
git log --oneline -5
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∏–¥–Ω—ã –ø–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–∏—Ç—ã

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –ø–æ—è–≤–∏–ª–∏—Å—å (–µ—Å–ª–∏ –±—ã–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã)
# –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –¥–æ–±–∞–≤–∏–ª–∏ –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É:
ls -lah pages/admin-city-routes.vue
# –ò–ª–∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö:
grep -n "vk.com/riderra" components/partials/footer.vue
```

---

### 2Ô∏è‚É£ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ **Frontend** (Nuxt.js)

#### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
```bash
cd /opt/riderra
npm install
```

#### –®–∞–≥ 2: –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
```bash
# –û—á–∏—Å—Ç–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã —Å–±–æ—Ä–∫–∏ –ò –∫–µ—à (–í–ê–ñ–ù–û!)
rm -rf .nuxt dist node_modules/.cache

# –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (–¥–ª—è target: 'static' –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è generate, –∞ –Ω–µ build)
npm run generate
```

#### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–±–æ—Ä–∫—É
```bash
ls -lah dist/_nuxt/*.js | head -5
# –î–æ–ª–∂–Ω—ã –±—ã—Ç—å —Å–≤–µ–∂–∏–µ —Ñ–∞–π–ª—ã —Å —Ç–µ–∫—É—â–µ–π –¥–∞—Ç–æ–π
```

#### –®–∞–≥ 4: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PM2
```bash
pm2 restart riderra --update-env
```

#### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å PM2
```bash
pm2 status
# –î–æ–ª–∂–µ–Ω –±—ã—Ç—å —Å—Ç–∞—Ç—É—Å "online"
```

#### –®–∞–≥ 6: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
```bash
pm2 logs riderra --lines 20
# –î–æ–ª–∂–Ω–æ –±—ã—Ç—å "Listening on: http://localhost:3000/"
```

#### –®–∞–≥ 7: –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞
- –ñ–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞: **Cmd+Shift+R** (Mac) –∏–ª–∏ **Ctrl+Shift+R** (Windows/Linux)
- –ò–ª–∏ —Ä–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ: **Cmd+Shift+N**

---

### 3Ô∏è‚É£ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ **Backend** (Node.js/Express)

#### –®–∞–≥ 1: –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –Ω–æ–≤—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
```bash
cd /opt/riderra
npm install
```

#### –®–∞–≥ 2: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PM2 —Å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ–º –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
```bash
pm2 restart riderra --update-env
```

#### –®–∞–≥ 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
```bash
pm2 status
pm2 describe riderra
```

#### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –Ω–∞ –æ—à–∏–±–∫–∏
```bash
pm2 logs riderra --lines 30 --err
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –Ω–µ—Ç –ª–∏ –æ—à–∏–±–æ–∫ –∑–∞–ø—É—Å–∫–∞
```

#### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –æ—Ç–≤–µ—á–∞–µ—Ç
```bash
curl http://localhost:3000
# –î–æ–ª–∂–µ–Ω –≤–µ—Ä–Ω—É—Ç—å HTML —Å—Ç—Ä–∞–Ω–∏—Ü—ã
```

---

### 4Ô∏è‚É£ –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ **–ë–∞–∑—É –¥–∞–Ω–Ω—ã—Ö** (Prisma)

#### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
```bash
cd /opt/riderra
cp prisma/dev.db prisma/dev.db.backup.$(date +%Y%m%d_%H%M%S)
# –ò–ª–∏ –¥–ª—è production:
# cp prisma/data/prod.db prisma/data/prod.db.backup.$(date +%Y%m%d_%H%M%S)
```

#### –®–∞–≥ 2: –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
npx prisma migrate deploy
# –ò–ª–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏:
# npx prisma migrate dev
```

#### –®–∞–≥ 3: –°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å Prisma Client (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∞—Å—å —Å—Ö–µ–º–∞)
```bash
npx prisma generate
```

#### –®–∞–≥ 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏
```bash
npx prisma migrate status
# –î–æ–ª–∂–Ω–æ –ø–æ–∫–∞–∑–∞—Ç—å, —á—Ç–æ –≤—Å–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã
```

#### –®–∞–≥ 5: –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
```bash
pm2 restart riderra --update-env
```

---

### 5Ô∏è‚É£ –ö–æ–º–±–∏–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (Frontend + Backend + –ë–î)

#### –ü–æ–ª–Ω–∞—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å:
```bash
# 1. –ü–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ —Å–µ—Ä–≤–µ—Ä—É
ssh root@81.228.9.217
cd /opt/riderra

# 2. –ü–æ–ª—É—á–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å GitHub
git pull origin master

# 3. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
npm install

# 4. –°–æ–∑–¥–∞—Ç—å –±—ç–∫–∞–ø –ë–î (–µ—Å–ª–∏ –µ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏)
cp prisma/dev.db prisma/dev.db.backup.$(date +%Y%m%d_%H%M%S)

# 5. –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
npx prisma migrate deploy
npx prisma generate

# 6. –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ (—Å –æ—á–∏—Å—Ç–∫–æ–π –∫–µ—à–∞)
rm -rf .nuxt dist node_modules/.cache
npm run generate

# 7. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PM2
pm2 restart riderra --update-env

# 8. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
pm2 status
pm2 logs riderra --lines 20

# 9. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Ä–∞–±–æ—Ç—É —Å–∞–π—Ç–∞
curl http://localhost:3000
```

---

### 6Ô∏è‚É£ –û—á–∏—Å—Ç–∫–∞ –∫–µ—à–∞ Nginx (–µ—Å–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –≤–∏–¥–Ω—ã)

#### –®–∞–≥ 1: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å Nginx
```bash
systemctl status nginx
```

#### –®–∞–≥ 2: –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à Nginx
```bash
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Nginx
systemctl stop nginx

# –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à
rm -rf /var/cache/nginx/*
rm -rf /var/lib/nginx/cache/*

# –ó–∞–ø—É—Å—Ç–∏—Ç—å Nginx
systemctl start nginx

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
systemctl status nginx
```

#### –®–∞–≥ 3: –í—Ä–µ–º–µ–Ω–Ω–æ –æ—Ç–∫–ª—é—á–∏—Ç—å –∫–µ—à (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
```bash
# –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
nano /etc/nginx/sites-available/riderra.com

# –î–æ–±–∞–≤–∏—Ç—å –≤ –±–ª–æ–∫ location / –ø–æ—Å–ª–µ proxy_cache_bypass:
#         add_header Cache-Control "no-cache, no-store, must-revalidate";
#         add_header Pragma "no-cache";
#         add_header Expires "0";

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
nginx -t

# –ü–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∏—Ç—å Nginx
systemctl reload nginx
```

---

## üéØ –ë—ã—Å—Ç—Ä–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ (—Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π —Å—Ü–µ–Ω–∞—Ä–∏–π)

### –û–¥–Ω–æ–π –∫–æ–º–∞–Ω–¥–æ–π (–µ—Å–ª–∏ –Ω–µ—Ç –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π):
```bash
cd /opt/riderra && \
git stash 2>/dev/null || true && \
git pull origin master && \
npm install && \
npx prisma migrate deploy 2>/dev/null || true && \
npx prisma generate && \
rm -rf .nuxt dist node_modules/.cache && \
npm run generate && \
pm2 restart riderra --update-env && \
pm2 logs riderra --lines 10
```

**‚ö†Ô∏è –í–ê–ñ–ù–û:** –ï—Å–ª–∏ `git pull` –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É –æ –ª–æ–∫–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö, –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ –æ—Ç–¥–µ–ª—å–Ω–æ—Å—Ç–∏:
```bash
cd /opt/riderra
git status  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã
git stash   # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
# –∏–ª–∏
git restore package-lock.json  # –û—Ç–∫–∞—Ç–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ñ–∞–π–ª
git pull origin master
# ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã
```

---

## ‚ö†Ô∏è –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã –∏ —Ä–µ—à–µ–Ω–∏—è

### –ü—Ä–æ–±–ª–µ–º–∞: `git pull` –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É "Your local changes would be overwritten by merge"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –µ—Å—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç —Å –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏ –∏–∑ GitHub

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# 1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã
git status

# 2. –í–∞—Ä–∏–∞–Ω—Ç –ê: –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤–æ –≤—Ä–µ–º–µ–Ω–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ
git stash
git pull origin master
# –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –≤–µ—Ä–Ω—É—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è:
# git stash pop

# 3. –í–∞—Ä–∏–∞–Ω—Ç –ë: –û—Ç–∫–∞—Ç–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–º —Ñ–∞–π–ª–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, package-lock.json)
git restore package-lock.json
git pull origin master

# 4. –í–∞—Ä–∏–∞–Ω—Ç –í: –û—Ç–∫–∞—Ç–∏—Ç—å –≤—Å–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–û–°–¢–û–†–û–ñ–ù–û!)
# git restore .
# git pull origin master
```

**–ü–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ `git pull` –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ø–∞–ª–∏
git log --oneline -3

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤ (–µ—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–ª–∏)
ls -lah pages/admin-city-routes.vue  # –ù–∞–ø—Ä–∏–º–µ—Ä

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö
grep -n "vk.com/riderra" components/partials/footer.vue  # –ù–∞–ø—Ä–∏–º–µ—Ä
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –≤–∏–¥–Ω—ã –Ω–∞ —Å–∞–π—Ç–µ

**–ü—Ä–∏—á–∏–Ω–∞ 1: –ò–∑–º–µ–Ω–µ–Ω–∏—è –Ω–µ –ø–æ–ø–∞–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä (git pull –Ω–µ –≤—ã–ø–æ–ª–Ω–∏–ª—Å—è)**
- –†–µ—à–µ–Ω–∏–µ: 
```bash
git status  # –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è
git stash   # –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
git pull origin master  # –ü–æ–ª—É—á–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ —Ñ–∞–π–ª—ã –ø–æ—è–≤–∏–ª–∏—Å—å:
ls -lah pages/admin-city-routes.vue  # –ù–∞–ø—Ä–∏–º–µ—Ä, –µ—Å–ª–∏ –¥–æ–±–∞–≤–ª—è–ª–∏ –Ω–æ–≤—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É
```

**–ü—Ä–∏—á–∏–Ω–∞ 2: –ö–µ—à –±—Ä–∞—É–∑–µ—Ä–∞**
- –†–µ—à–µ–Ω–∏–µ: –ñ–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ (Cmd+Shift+R) –∏–ª–∏ —Ä–µ–∂–∏–º –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ

**–ü—Ä–∏—á–∏–Ω–∞ 3: –§—Ä–æ–Ω—Ç–µ–Ω–¥ –Ω–µ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω**
- –†–µ—à–µ–Ω–∏–µ: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ `dist/` –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω (`rm -rf .nuxt dist node_modules/.cache && npm run generate`)

**–ü—Ä–∏—á–∏–Ω–∞ 4: PM2 –Ω–µ –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω**
- –†–µ—à–µ–Ω–∏–µ: `pm2 restart riderra --update-env`

**–ü—Ä–∏—á–∏–Ω–∞ 5: –ö–µ—à Nginx**
- –†–µ—à–µ–Ω–∏–µ: –û—á–∏—Å—Ç–∏—Ç—å –∫–µ—à Nginx (—Å–º. —Ä–∞–∑–¥–µ–ª 6Ô∏è‚É£)

**–ü—Ä–∏—á–∏–Ω–∞ 6: –°—Ç–∞—Ä—ã–µ —Ñ–∞–π–ª—ã –≤ dist/ –∏–ª–∏ –∫–µ—à node_modules**
- –†–µ—à–µ–Ω–∏–µ: –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Å –æ—á–∏—Å—Ç–∫–æ–π (`rm -rf .nuxt dist node_modules/.cache && npm run generate`)

**–ü—Ä–∏—á–∏–Ω–∞ 7: –ò–∑–º–µ–Ω–µ–Ω–∏—è –µ—Å—Ç—å –≤ –∏—Å—Ö–æ–¥–Ω–∏–∫–∞—Ö, –Ω–æ –Ω–µ –≤ —Å–±–æ—Ä–∫–µ**
- –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ø–∞–ª–∏ –≤ JS —Ñ–∞–π–ª—ã:
```bash
grep -r "vk.com/riderra" dist/_nuxt/*.js  # –ù–∞–ø—Ä–∏–º–µ—Ä, –∏—Å–∫–∞—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
# –ï—Å–ª–∏ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ - –ø–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Å –ø–æ–ª–Ω–æ–π –æ—á–∏—Å—Ç–∫–æ–π
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∏ –ø—Ä–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –ë–î

**–ü—Ä–∏—á–∏–Ω–∞: –ö–æ–Ω—Ñ–ª–∏–∫—Ç –º–∏–≥—Ä–∞—Ü–∏–π**
- –†–µ—à–µ–Ω–∏–µ:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–π
npx prisma migrate status

# –ï—Å–ª–∏ –µ—Å—Ç—å –ø—Ä–æ–±–ª–µ–º—ã, –æ—Ç–∫–∞—Ç–∏—Ç—å –∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∑–∞–Ω–æ–≤–æ
npx prisma migrate reset  # ‚ö†Ô∏è –û–°–¢–û–†–û–ñ–ù–û: —É–¥–∞–ª–∏—Ç –≤—Å–µ –¥–∞–Ω–Ω—ã–µ!
# –ò–ª–∏ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫–æ–Ω–∫—Ä–µ—Ç–Ω—É—é –º–∏–≥—Ä–∞—Ü–∏—é
npx prisma migrate deploy
```

---

### –ü—Ä–æ–±–ª–µ–º–∞: PM2 –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è

**–ü—Ä–∏—á–∏–Ω–∞ 1: –ü–æ—Ä—Ç 3000 –∑–∞–Ω—è—Ç**
- –†–µ—à–µ–Ω–∏–µ:
```bash
# –ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å –Ω–∞ –ø–æ—Ä—Ç—É 3000
lsof -tiTCP:3000 -sTCP:LISTEN

# –£–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å
kill -9 $(lsof -tiTCP:3000 -sTCP:LISTEN)

# –ó–∞–ø—É—Å—Ç–∏—Ç—å PM2 –∑–∞–Ω–æ–≤–æ
pm2 start ecosystem.config.js
```

**–ü—Ä–∏—á–∏–Ω–∞ 2: –û—à–∏–±–∫–∏ –≤ –∫–æ–¥–µ**
- –†–µ—à–µ–Ω–∏–µ:
```bash
# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏
pm2 logs riderra --err --lines 50

# –ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ—à–∏–±–∫–∏ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
pm2 restart riderra
```

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –¥–µ–ø–ª–æ–µ–º

- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (`git status`)
- [ ] –õ–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω—ã –∏–ª–∏ –æ—Ç–∫–∞—á–µ–Ω—ã (`git stash` –∏–ª–∏ `git restore`)
- [ ] –ö–æ–¥ –ø–æ–ª—É—á–µ–Ω —Å GitHub (`git pull origin master`)
- [ ] **–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ø–∞–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä** (–ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–æ–≤—ã–µ —Ñ–∞–π–ª—ã –∏–ª–∏ –∏–∑–º–µ–Ω–µ–Ω–∏—è)
- [ ] –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã (`npm install`)
- [ ] –ë—ç–∫–∞–ø –ë–î —Å–æ–∑–¥–∞–Ω (–µ—Å–ª–∏ –µ—Å—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏)
- [ ] –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã (`npx prisma migrate deploy`)
- [ ] Prisma Client —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω (`npx prisma generate`)
- [ ] –§—Ä–æ–Ω—Ç–µ–Ω–¥ –ø–µ—Ä–µ—Å–æ–±—Ä–∞–Ω —Å –æ—á–∏—Å—Ç–∫–æ–π –∫–µ—à–∞ (`rm -rf .nuxt dist node_modules/.cache && npm run generate`)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω –Ω–æ–≤—ã–π JS —Ñ–∞–π–ª –≤ `dist/_nuxt/` (–¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Å–≤–µ–∂–∞—è –¥–∞—Ç–∞)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–æ, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –µ—Å—Ç—å –≤ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] PM2 –ø–µ—Ä–µ–∑–∞–ø—É—â–µ–Ω (`pm2 restart riderra --update-env`)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω —Å—Ç–∞—Ç—É—Å PM2 (`pm2 status` - –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å "online")
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω—ã –ª–æ–≥–∏ PM2 (–Ω–µ—Ç –æ—à–∏–±–æ–∫)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω –æ—Ç–≤–µ—Ç —Å–µ—Ä–≤–µ—Ä–∞ (`curl http://localhost:3000`)
- [ ] –ö–µ—à Nginx –æ—á–∏—â–µ–Ω (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
- [ ] –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω —Å–∞–π—Ç –≤ –±—Ä–∞—É–∑–µ—Ä–µ (–∂–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∏–ª–∏ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ)
- [ ] –ü—Ä–æ–≤–µ—Ä–µ–Ω–∞ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (–Ω–µ—Ç –æ—à–∏–±–æ–∫)

---

## üöÄ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–°–æ–∑–¥–∞–π —Å–∫—Ä–∏–ø—Ç `update.sh` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:
```bash
#!/bin/bash
set -e

echo "üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ Riderra..."

cd /opt/riderra

# –ü–æ–ª—É—á–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è
echo "üì• –ü–æ–ª—É—á–µ–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π —Å GitHub..."
git pull origin master

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
echo "üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π..."
npm install

# –ü—Ä–∏–º–µ–Ω–∏—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ (–µ—Å–ª–∏ –µ—Å—Ç—å)
echo "üóÑÔ∏è  –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–∏–≥—Ä–∞—Ü–∏–π..."
npx prisma migrate deploy 2>/dev/null || echo "‚ö†Ô∏è  –ù–µ—Ç –Ω–æ–≤—ã—Ö –º–∏–≥—Ä–∞—Ü–∏–π"
npx prisma generate

# –ü–µ—Ä–µ—Å–æ–±—Ä–∞—Ç—å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
echo "üèóÔ∏è  –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞..."
rm -rf .nuxt dist node_modules/.cache
npm run generate

# –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å PM2
echo "üîÑ –ü–µ—Ä–µ–∑–∞–ø—É—Å–∫ PM2..."
pm2 restart riderra --update-env

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
echo "‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞..."
pm2 status
pm2 logs riderra --lines 10

echo "‚úÖ –ì–æ—Ç–æ–≤–æ! –ü—Ä–æ–≤–µ—Ä—å —Å–∞–π—Ç: https://riderra.com"
```

–°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º:
```bash
chmod +x update.sh
```

–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å:
```bash
./update.sh
```

---

## üìå –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

1. **‚ö†Ô∏è –ö–†–ò–¢–ò–ß–ù–û: –í—Å–µ–≥–¥–∞ –ø—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–µ—Ä–µ–¥ `git pull`**
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `git status` –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏
   - –°–æ—Ö—Ä–∞–Ω—è–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è —á–µ—Ä–µ–∑ `git stash` –∏–ª–∏ –æ—Ç–∫–∞—Ç—ã–≤–∞–π—Ç–µ —á–µ—Ä–µ–∑ `git restore`
   - –ï—Å–ª–∏ `git pull` –≤—ã–¥–∞–µ—Ç –æ—à–∏–±–∫—É –æ –∫–æ–Ω—Ñ–ª–∏–∫—Ç–∞—Ö - –Ω–µ –∏–≥–Ω–æ—Ä–∏—Ä—É–π—Ç–µ –µ—ë!

2. **–í—Å–µ–≥–¥–∞ —Å–æ–∑–¥–∞–≤–∞–π—Ç–µ –±—ç–∫–∞–ø –ë–î** –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º –º–∏–≥—Ä–∞—Ü–∏–π

3. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ, —á—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –ø–æ–ø–∞–ª–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä** –ø–æ—Å–ª–µ `git pull`
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –Ω–∞–ª–∏—á–∏–µ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤
   - –ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö

4. **–û—á–∏—â–∞–π—Ç–µ –∫–µ—à –ø—Ä–∏ –ø–µ—Ä–µ—Å–±–æ—Ä–∫–µ** (`node_modules/.cache` –≤ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –∫ `.nuxt dist`)

5. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ –ª–æ–≥–∏ PM2** –ø–æ—Å–ª–µ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞

6. **–û—á–∏—â–∞–π—Ç–µ –∫–µ—à –±—Ä–∞—É–∑–µ—Ä–∞** –ø–æ—Å–ª–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞ (–∂–µ—Å—Ç–∫–∞—è –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∞ –∏–ª–∏ –∏–Ω–∫–æ–≥–Ω–∏—Ç–æ)

7. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `--update-env`** –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ PM2 –¥–ª—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

8. **–ü—Ä–æ–≤–µ—Ä—è–π—Ç–µ —Å—Ç–∞—Ç—É—Å –º–∏–≥—Ä–∞—Ü–∏–π** –ø–µ—Ä–µ–¥ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ–º (`npx prisma migrate status`)

9. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ `npm run generate`** (–Ω–µ `npm run build`) –¥–ª—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–π –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –ø—Ä–∏ `target: 'static'`

